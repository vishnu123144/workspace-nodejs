<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  </head>
  <body>
    <script type="text/javascript">
      updateCustomer = function(){
        if($("#name").val() != ""){
          var data = {};
          data.id = $('#id').val();
          data.name = $('#name').val();
          data.email = $('#email').val();
          data.phone = $('#phone').val();
          data.address = $('#address').val();
          $.ajax({url: "/api/customer",method:'PUT', 
            data:data,
            success: function(response){
              if(response.result =="success"){
                location = "/customer";
              }else{
                alert(response.msg);
              }
            }});
        }else{
          alert("Name cannot be blank ");
        }
      }
    </script>
    <h1><%= title %></h1>
    <form>
        <input id="id" value="<%= customer._id %>" readonly/> <br/><br/>
        <input id="name" placeholder="Name" value="<%= customer.name %>" /> <br/><br/>
        <input id="email" placeholder="Email" value="<%= customer.email %>" /> <br/><br/>
        <input id="address" placeholder="Address" value="<%= customer.address %>" /> <br/><br/>
        <input id="phone" placeholder="Phone" value="<%= customer.phone %>" /> <br/><br/>
        <input value="Add" type="button" onclick="updateCustomer()"/> <br/>
    </form>
  </body>
</html>
